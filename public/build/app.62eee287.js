/*! For license information please see app.62eee287.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[143],{4180:(t,e,o)=>{var n={"./hello_controller.js":4695};function a(t){var e=r(t);return o(e)}function r(t){if(!o.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=r,t.exports=a,a.id=4180},8205:(t,e,o)=>{"use strict";o.d(e,{Z:()=>n});const n={}},4695:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>d});o(8304),o(4812),o(489),o(1539),o(2419),o(8011),o(9070),o(2526),o(1817),o(2165),o(6992),o(8783),o(3948);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=l(t);if(e){var a=l(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return s(this,o)}}function s(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(l,t);var e,o,n,s=i(l);function l(){return a(this,l),s.apply(this,arguments)}return e=l,(o=[{key:"connect",value:function(){this.element.textContent="Hello Stimulus! Edit me in assets/controllers/hello_controller.js"}}])&&r(e.prototype,o),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(o(6599).Qr)},5373:(t,e,o)=>{"use strict";(0,o(2192).x)(o(4180)),o(5980),o(4916),o(3123),o(6699),o(2023),o(2222);var n=o(9669).default;function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n.get(t).then((function(t){null!=e&&$(".".concat(e)).html(t.data)})).catch((function(t){$(".".concat(e)).parent().html="Erreur: ".concat(t.message),console.error("Il y a une erreur dans la requête",t)}))}var r,c,i,s,l,d;o(9669).default;$(".activate-module").css("cursor","pointer"),$("#modules").on("click",".activate-module",(function(t){(d="1"==$(this).data("modulepartner")?"activé":"désactivé",l=!$(this).is(":checked"),t.preventDefault(),"disabled"===$(this).data("disabled")||"admin"!=$(this).data("role"))?t.preventDefault():(t.preventDefault(),$("#modal-module").css("display","block"),r=$(this).data("name"),window.location.pathname.split("/").includes("partenaires")?l?($(".modal-body-module .question1").text("Etes-vous sûr de vouloir désactiver"),$(".modal-body-module .question2").text("".concat(r)),$(".modal-body-module .para1").text("En désactivant ce droit, vous désactiverez celui des structures dont dépend ce partenaire.")):($(".modal-body-module .question1").text("Etes-vous sûr de vouloir activer"),$(".modal-body-module .question2").text("".concat(r)),$(".modal-body-module .para1").text("Cette action ne concerne que ce partenaire. Ce droit devra être activé au cas par cas pour chaque structure dont dépend le partenaire.")):l?(t.preventDefault(),$(".modal-body-module .question").css("display","block"),$(".modal-body-module .question1").text("Etes-vous sûr de vouloir désactiver"),$(".modal-body-module .question2").text("".concat(r)),$(".modal-body-module .para1").text("Cette action n'a aucune influence sur le droit du partenaire dont dépend cette structure."),$("#btn-module").css("display","block"),$("#btn-module-cancel").text("ANNULER"),$("#btn-module-cancel").css("backgroundColor","#dc3545")):(t.preventDefault(),"désactivé"===d?($(".modal-body-module .question").css("display","none"),$(".modal-body-module .para1").text("Vous ne pouvez pas activer le droit de cette structure car celui du partenaire n'est pas activé."),$("#btn-module").css("display","none"),$("#btn-module-cancel").text("VALIDER"),$("#btn-module-cancel").css({backgroundColor:"#0d6efd",border:"none",outline:"none"})):($(".modal-body-module .question").css("display","block"),$(".modal-body-module .question1").text("Etes-vous sûr de vouloir activer"),$(".modal-body-module .question2").text("".concat(r)),$(".modal-body-module .para1").text("Cette action n'a aucune influence sur le droit du partenaire dont dépend cette structure."),$("#btn-module").css("display","flex"),$("#btn-module-cancel").text("ANNULER"),$("#btn-module-cancel").css("backgroundColor","#dc3545"))),c=$(this).data("slug"),i=$(this).data("role"),s=$(this).data("idmodule"))})),$(".btn-module").on("click",(function(t){t.preventDefault();var e=window.location.pathname.split("/");"admin"===i?a(e.includes("partenaires")?"".concat(window.location.protocol,"//").concat(window.location.host,"/partenaires/").concat(c,"/").concat(s,"/active-module"):"".concat(window.location.protocol,"//").concat(window.location.host,"/structures/").concat(c,"/").concat(s,"/active-module"),"modules"):t.preventDefault(),$("#modal-module").css("display","none"),$(".activate-module").css("cursor","pointer")})),$(".btn-module-cancel").on("click",(function(t){t.preventDefault(),$("#modal-module").css("display","none"),$(".activate-module").css("cursor","pointer")}));o(6992),o(1539),o(8783),o(3948),o(1637),o(285),o(3710),o(9714),o(9669).default;$(".modal_trigger").on("click",(function(t){$("#modal-delete").css("display","block")})),$("#content").on("click",".modal-trigger",(function(t){$("#modal-delete").css("display","block");var e=$(this).data("slug")+"/"+$(this).data("id");$(".modal-footer-delete a").attr("href",e);var o=$(this).data("name");$(".modal-body-delete .question1").text("Voulez-vous supprimer "),$(".modal-body-delete .question2").text(o)})),$("#cards").on("click",".modal-trigger",(function(t){$("#modal-delete").css("display","block");var e=$(this).data("slug")+"/"+$(this).data("id");$(".modal-footer-delete a").attr("href",e);var o=$(this).data("name");$(".modal-body-delete .question1").text("Voulez-vous supprimer "),$(".modal-body-delete .question2").text(o)})),$(".btn-delete-cancel").on("click",(function(t){t.preventDefault(),$("#modal-delete").css("display","none")})),$("#cards").on("click",".sendEmail",(function(t){if($(this).is(":checked")){var e=new URLSearchParams;e.append("sendEmail","true"),a(new URL(window.location.href).pathname+"?"+e.toString())}}));o(4765),o(9669).default;var u="",p="";$("#cards").on("click",".modal-switch-user",(function(t){if("disabled"===$(this).data("disabled")||"admin"!=$(this).data("role"))t.preventDefault(),"disabled"===$(this).data("disabled")&&($("#modal-switch").css("display","block"),$(".modal-body-switch .question").css("display","none"),$(".modal-body-switch .para1").text("La salle ne peut pas être activée quand le partenaire est désactivé."),$("#btn-switch").css("display","none"),$("#btn-switch-cancel").text("VALIDER"),$("#btn-switch-cancel").css({backgroundColor:"#0d6efd",border:"none",outline:"none"}));else{t.preventDefault();var e=$(this).is(":checked");p=$(this).data("name"),e?($("#modal-switch").css("display","block"),$(".modal-body-switch .question1").text("Etes-vous sûr de vouloir activer "),$(".modal-body-switch .question2").text(p),$(".modal-body-switch .para1").css("display","none")):($("#modal-switch").css("display","block"),$(".modal-body-switch .question1").text("Etes-vous sûr de vouloir désactiver "),$(".modal-body-switch .question2").text(p),$(".modal-body-switch .para1").css("display","none")),$("#modal-switch").css("display","block"),u=$(this).data("slug")}})),$("#content").on("click",".modal-switch-user",(function(t){if("disabled"===$(this).data("disabled")||"admin"!=$(this).data("role"))t.preventDefault(),"disabled"===$(this).data("disabled")&&($("#modal-switch").css("display","block"),$(".modal-body-switch .question").css("display","none"),$(".modal-body-switch .para1").text("La salle ne peut pas être activée quand le partenaire est désactivé."),$("#btn-switch").css("display","none"),$("#btn-switch-cancel").text("VALIDER"),$("#btn-switch-cancel").css({backgroundColor:"#0d6efd",border:"none",outline:"none"}));else{t.preventDefault();var e=$(this).is(":checked");if(p=$(this).data("name"),e)$(".modal-body-switch .question1").text("Etes-vous sûr de vouloir activer "),$(".modal-body-switch .question2").text(p),$(".modal-body-switch .para1").css("display","none");else $(".modal-body-switch .question1").text("Etes-vous sûr de vouloir désactiver "),$(".modal-body-switch .question2").text(p),window.location.pathname.split("/").includes("partenaires")?($(".modal-body-switch .para1").css("display","block"),$(".modal-body-switch .para1").text("En désactivant ce partenaire, vous désactiverez toutes les structures auquel elles sont rattachées.")):$(".modal-body-switch .para1").css("display","none");$("#modal-switch").css("display","block"),u=$(this).data("slug")}})),$(".btn-switch").on("click",(function(t){t.preventDefault();var e=new URLSearchParams(window.location.search).toString(),o="",n=window.location.pathname.split("/");if(n.includes("partenaires"))o="".concat(window.location.protocol,"//").concat(window.location.host,"/partenaires/").concat(u,"/active-user/?").concat(e);else if(o="".concat(window.location.protocol,"//").concat(window.location.host,"/structures/").concat(u,"/active-user/?").concat(e),""!=n[2]){var r=new Date;r.setTime(r.getTime()+1e3),$.cookie("card","ok",{expires:r,path:"/;SameSite=None",secure:!0})}a(o,"content"),$("#modal-switch").css("display","none")})),$(".btn-switch-cancel").on("click",(function(t){t.preventDefault(),$("#modal-switch").css("display","none")}));var f=o(9755);function m(){var t,e,o={filter:null!==(t=$(".select-filters option:selected").val())&&void 0!==t?t:"",page:$("#filters input:hidden").attr("value"),query:null!==(e=$(".js-query").val())&&void 0!==e?e:"",limit:$("#limit").val()},n=new URLSearchParams;!function(t,e){f.each(t,(function(t,o){""===o||(e.get(t)?e.set(t,o):e.append(t,o))}))}(o,n);var r=new URL(window.location.href);a(r.pathname+"?"+n.toString()+"&ajax=1","content");var c=new URLSearchParams;!function(t,e){f.each(t,(function(t,o){""===o||0===o||(e.get(t)?e.set(t,o):e.append(t,o))}))}(o,c),""===c.toString()?history.pushState({},null,r.pathname):history.pushState({},null,r.pathname+"?"+c.toString())}o(9669).default;$(".js-query").on("keyup",m),$(".filters").on("change",m);o(9669).default;$("#content").on("click",".page-link",(function(t){t.preventDefault();var e=$(this).attr("href");a(new URL(window.location.href).pathname+e+"&ajax=1","content")}))},5980:(t,e,o)=>{function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}o(4916),o(3123),o(7042),o(5306),o(1539),o(8309),o(1038),o(8783),o(2526),o(1817),o(2165),o(6992),o(3948),o(9753),window.addEventListener("DOMContentLoaded",(function(t){var e=document.body.querySelector("#sidebarToggle");e&&e.addEventListener("click",(function(t){t.preventDefault(),document.body.classList.toggle("sb-sidenav-toggled"),localStorage.setItem("sb|sidebar-toggle",document.body.classList.contains("sb-sidenav-toggled"))}))}));var a,r=$(".nav-link"),c=location.href,i=function(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return n(t,e)}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,s=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return i=t.done,t},e:function(t){s=!0,c=t},f:function(){try{i||null==o.return||o.return()}finally{if(s)throw c}}}}(r);try{for(i.s();!(a=i.n()).done;){var s=a.value;s.href!=c&&s.href.split("/").slice(0,4)[3]!=c.split("/").slice(0,4)[3]||(s.className.replace("active",""),s.className+=" active",s.style.color="#fff")}}catch(t){i.e(t)}finally{i.f()}"partenaire"!==c.split("/")[4]&&"structure"!==c.split("/")[4]||$(".nav-dead-link").css("color","white")}},t=>{t.O(0,[885],(()=>{return e=5373,t(t.s=e);var e}));t.O()}]);