/*! For license information please see app.279b3394.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[143],{4180:(e,t,o)=>{var n={"./hello_controller.js":4695};function a(e){var t=r(e);return o(t)}function r(e){if(!o.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=4180},8205:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});const n={}},4695:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>d});o(8304),o(4812),o(489),o(1539),o(2419),o(8011),o(9070),o(2526),o(1817),o(2165),o(6992),o(8783),o(3948);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=l(e);if(t){var a=l(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return s(this,o)}}function s(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(l,e);var t,o,n,s=i(l);function l(){return a(this,l),s.apply(this,arguments)}return t=l,(o=[{key:"connect",value:function(){this.element.textContent="Hello Stimulus! Edit me in assets/controllers/hello_controller.js"}}])&&r(t.prototype,o),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(o(6599).Qr)},5373:(e,t,o)=>{"use strict";(0,o(2192).x)(o(4180)),o(5980),o(4916),o(3123),o(6699),o(2023),o(2222);var n=o(9669).default;function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n.get(e).then((function(e){null!=t&&$(".".concat(t)).html(e.data)})).catch((function(e){$(".".concat(t)).parent().html="Erreur: ".concat(e.message),console.error("Il y a une erreur dans la requête",e)}))}var r,c,i,s,l,d;o(9669).default;$(".activate-module").css("cursor","pointer"),$("#modules").on("click",".activate-module",(function(e){(d="1"==$(this).data("modulepartner")?"activé":"désactivé",l=!$(this).is(":checked"),e.preventDefault(),"disabled"===$(this).data("disabled")||"admin"!=$(this).data("role"))?e.preventDefault():(e.preventDefault(),$("#modal-module").css("display","block"),r=$(this).data("name"),window.location.pathname.split("/").includes("partenaires")?l?($(".modal-body-module .question1").text("Etes-vous sûr de vouloir désactiver"),$(".modal-body-module .question2").text("".concat(r)),$(".modal-body-module .para1").text("En désactivant ce droit, vous désactiverez celui des structures dont dépend ce partenaire.")):($(".modal-body-module .question1").text("Etes-vous sûr de vouloir activer"),$(".modal-body-module .question2").text("".concat(r)),$(".modal-body-module .para1").text("Cette action ne concerne que ce partenaire. Ce droit devra être activé au cas par cas pour chaque structure dont dépend le partenaire.")):l?(e.preventDefault(),$(".modal-body-module .question").css("display","block"),$(".modal-body-module .question1").text("Etes-vous sûr de vouloir désactiver"),$(".modal-body-module .question2").text("".concat(r)),$(".modal-body-module .para1").text("Cette action n'a aucune influence sur le droit du partenaire dont dépend cette structure."),$("#btn-module").css("display","block"),$("#btn-module-cancel").text("ANNULER"),$("#btn-module-cancel").css("backgroundColor","#dc3545")):(e.preventDefault(),"désactivé"===d?($(".modal-body-module .question").css("display","none"),$(".modal-body-module .para1").text("Vous ne pouvez pas activer le droit de cette structure car celui du partenaire n'est pas activé."),$("#btn-module").css("display","none"),$("#btn-module-cancel").text("VALIDER"),$("#btn-module-cancel").css({backgroundColor:"#0d6efd",border:"none",outline:"none"})):($(".modal-body-module .question").css("display","block"),$(".modal-body-module .question1").text("Etes-vous sûr de vouloir activer"),$(".modal-body-module .question2").text("".concat(r)),$(".modal-body-module .para1").text("Cette action n'a aucune influence sur le droit du partenaire dont dépend cette structure."),$("#btn-module").css("display","flex"),$("#btn-module-cancel").text("ANNULER"),$("#btn-module-cancel").css("backgroundColor","#dc3545"))),c=$(this).data("slug"),i=$(this).data("role"),s=$(this).data("idmodule"))})),$(".btn-module").on("click",(function(e){e.preventDefault();var t=window.location.pathname.split("/");"admin"===i?a(t.includes("partenaires")?"".concat(window.location.protocol,"//").concat(window.location.host,"/partenaires/").concat(c,"/").concat(s,"/active-module"):"".concat(window.location.protocol,"//").concat(window.location.host,"/structures/").concat(c,"/").concat(s,"/active-module"),"modules"):e.preventDefault(),$("#modal-module").css("display","none"),$(".activate-module").css("cursor","pointer")})),$(".btn-module-cancel").on("click",(function(e){e.preventDefault(),$("#modal-module").css("display","none"),$(".activate-module").css("cursor","pointer")}));o(6992),o(1539),o(8783),o(3948),o(1637),o(285),o(3710),o(9714),o(9669).default;$(".modal_trigger").on("click",(function(e){console.log("ok"),$("#modal-delete").css("display","block")})),$("#content").on("click",".modal-trigger",(function(e){$("#modal-delete").css("display","block");var t=$(this).data("slug")+"/"+$(this).data("id");$(".modal-footer-delete a").attr("href",t);var o=$(this).data("name");$(".modal-body-delete .question1").text("Voulez-vous supprimer "),$(".modal-body-delete .question2").text(o)})),$("#cards").on("click",".modal-trigger",(function(e){$("#modal-delete").css("display","block");var t=$(this).data("slug")+"/"+$(this).data("id");$(".modal-footer-delete a").attr("href",t);var o=$(this).data("name");$(".modal-body-delete .question1").text("Voulez-vous supprimer "),$(".modal-body-delete .question2").text(o)})),$(".btn-delete-cancel").on("click",(function(e){e.preventDefault(),console.log("ok"),$("#modal-delete").css("display","none")})),$("#cards").on("click",".sendEmail",(function(e){if($(this).is(":checked")){var t=new URLSearchParams;t.append("sendEmail","true"),a(new URL(window.location.href).pathname+"?"+t.toString())}}));o(4765),o(9669).default;var u="",p="";$("#cards").on("click",".modal-switch-user",(function(e){if("disabled"===$(this).data("disabled")||"admin"!=$(this).data("role"))console.log("1"),e.preventDefault(),"disabled"===$(this).data("disabled")&&($("#modal-switch").css("display","block"),$(".modal-body-switch .question").css("display","none"),$(".modal-body-switch .para1").text("La salle ne peut pas être activée quand le partenaire est désactivé."),$("#btn-switch").css("display","none"),$("#btn-switch-cancel").text("VALIDER"),$("#btn-switch-cancel").css({backgroundColor:"#0d6efd",border:"none",outline:"none"}));else{e.preventDefault(),console.log("2");var t=$(this).is(":checked");p=$(this).data("name"),t?(console.log("4"),$("#modal-switch").css("display","block"),$(".modal-body-switch .question1").text("Etes-vous sûr de vouloir activer "),$(".modal-body-switch .question2").text(p),$(".modal-body-switch .para1").css("display","none")):(console.log("3"),$("#modal-switch").css("display","block"),$(".modal-body-switch .question1").text("Etes-vous sûr de vouloir désactiver "),$(".modal-body-switch .question2").text(p),$(".modal-body-switch .para1").css("display","none")),$("#modal-switch").css("display","block"),u=$(this).data("slug")}})),$("#content").on("click",".modal-switch-user",(function(e){if("disabled"===$(this).data("disabled")||"admin"!=$(this).data("role"))e.preventDefault(),"disabled"===$(this).data("disabled")&&($("#modal-switch").css("display","block"),$(".modal-body-switch .question").css("display","none"),$(".modal-body-switch .para1").text("La salle ne peut pas être activée quand le partenaire est désactivé."),$("#btn-switch").css("display","none"),$("#btn-switch-cancel").text("VALIDER"),$("#btn-switch-cancel").css({backgroundColor:"#0d6efd",border:"none",outline:"none"}));else{e.preventDefault();var t=$(this).is(":checked");if(p=$(this).data("name"),t)$(".modal-body-switch .question1").text("Etes-vous sûr de vouloir activer "),$(".modal-body-switch .question2").text(p),$(".modal-body-switch .para1").css("display","none"),console.log("2");else $(".modal-body-switch .question1").text("Etes-vous sûr de vouloir désactiver "),$(".modal-body-switch .question2").text(p),window.location.pathname.split("/").includes("partenaires")?($(".modal-body-switch .para1").css("display","block"),$(".modal-body-switch .para1").text("En désactivant ce partenaire, vous désactiverez toutes les structures auquel elles sont rattachées.")):$(".modal-body-switch .para1").css("display","none"),console.log("1");$("#modal-switch").css("display","block"),u=$(this).data("slug")}})),$(".btn-switch").on("click",(function(e){e.preventDefault();var t=new URLSearchParams(window.location.search).toString(),o="",n=window.location.pathname.split("/");if(n.includes("partenaires"))o="".concat(window.location.protocol,"//").concat(window.location.host,"/partenaires/").concat(u,"/active-user/?").concat(t);else if(o="".concat(window.location.protocol,"//").concat(window.location.host,"/structures/").concat(u,"/active-user/?").concat(t),""!=n[2]){var r=new Date;r.setTime(r.getTime()+1e3),$.cookie("card","ok",{expires:r,path:"/;SameSite=None",secure:!0})}a(o,"content"),$("#modal-switch").css("display","none")})),$(".btn-switch-cancel").on("click",(function(e){e.preventDefault(),$("#modal-switch").css("display","none")}));var f=o(9755);function m(){var e,t,o={filter:null!==(e=$(".select-filters option:selected").val())&&void 0!==e?e:"",page:$("#filters input:hidden").attr("value"),query:null!==(t=$(".js-query").val())&&void 0!==t?t:""},n=new URLSearchParams;!function(e,t){f.each(e,(function(e,o){""===o||(t.get(e)?t.set(e,o):t.append(e,o))}))}(o,n);var r=new URL(window.location.href);a(r.pathname+"?"+n.toString()+"&ajax=1","content");var c=new URLSearchParams;!function(e,t){f.each(e,(function(e,o){""===o||0===o||(t.get(e)?t.set(e,o):t.append(e,o))}))}(o,c),""===c.toString()?history.pushState({},null,r.pathname):history.pushState({},null,r.pathname+"?"+c.toString())}o(9669).default;$(".js-query").on("keyup",m),$(".select-filters").on("change",m);o(9669).default;$("#content").on("click",".page-link",(function(e){e.preventDefault();var t=$(this).attr("href");a(new URL(window.location.href).pathname+t+"&ajax=1","content")}))},5980:(e,t,o)=>{function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}o(4916),o(3123),o(7042),o(5306),o(1539),o(8309),o(1038),o(8783),o(2526),o(1817),o(2165),o(6992),o(3948),o(9753),window.addEventListener("DOMContentLoaded",(function(e){var t=document.body.querySelector("#sidebarToggle");t&&t.addEventListener("click",(function(e){e.preventDefault(),document.body.classList.toggle("sb-sidenav-toggled"),localStorage.setItem("sb|sidebar-toggle",document.body.classList.contains("sb-sidenav-toggled"))}))}));var a,r=$(".nav-link"),c=location.href,i=function(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return n(e,t)}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,s=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return i=e.done,e},e:function(e){s=!0,c=e},f:function(){try{i||null==o.return||o.return()}finally{if(s)throw c}}}}(r);try{for(i.s();!(a=i.n()).done;){var s=a.value;s.href!=c&&s.href.split("/").slice(0,4)[3]!=c.split("/").slice(0,4)[3]||(s.className.replace("active",""),s.className+=" active",s.style.color="#fff")}}catch(e){i.e(e)}finally{i.f()}"partenaire"!==c.split("/")[4]&&"structure"!==c.split("/")[4]||$(".nav-dead-link").css("color","white")}},e=>{e.O(0,[885],(()=>{return t=5373,e(e.s=t);var t}));e.O()}]);