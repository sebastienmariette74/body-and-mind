{% block flash %}{% include "_partials/_flash.html.twig" %}{% endblock %}

<div class="card col-3  m-3" style="width: 18rem;">
    <div class="card-body d-flex flex-column">
        <h5 class="card-title">
            {{ structure.name }}
        </h5>
        <p class="card-text">
            {{ structure.address }} <br>
            {{ structure.zipcode }}
            {{ structure.city }}

        </p>

        {% set checked = structure.isActivated ? 'checked' : '' %}

        {% set disabled = not structure.partner.isActivated ? 'disabled' : '' %}

        <div class="form-check form-switch d-flex mb-3">
            <input class="form-check-input activate-user modal-switch-user btn-lg" {{is_granted('ROLE_ADMIN') ? "" : "disabled"}} type="checkbox"
                   role="switch" {{ checked }}
                   data-role="{{ role }}" data-id="{{ structure.id }}" data-name="{{ structure.name }}"
                   data-slug="{{ structure.slug }}"
                   data-disabled="{{ disabled }}">
        </div>

        <div>
            {% if is_granted('ROLE_ADMIN') %}
                <a class="btn btn-warning" href="{{ path('structures_edit', {slug : structure.slug}) }}">Modifier</a>

                <button type="button" class="btn btn-danger modal-trigger" data-name="{{ structure.name }}"
                        data-slug="{{ structure.slug }}"
                        data-id="{{ structure.id }}">
                    Supprimer
                </button>

            {% endif %}
        </div>
    </div>
</div>